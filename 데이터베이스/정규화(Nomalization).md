# 정규화

## 정규화란

테이블 간 중복된 데이터를 허용하지 않는 것.  
중복된 데이터는 저장 공간을 낭비 할 뿐만 아니라 갱신 이상을 발생 시키기 때문에 중복을 허용하지 않음으로써 무결성을 유지하고 저장 용량을 효율적으로 관리해야할 필요가 있다.

- 갱신 이상의 종류

  - 삽입 이상 : 원하지 않는 자료가 삽입된다든지, 삽입하는데 자료가 부족해 삽입이 되지 않아 발생하는 문제점을 말한다.
  - 삭제 이상 : 하나의 자료만 삭제하고 싶지만, 그 자료가 포함된 튜플 전체가 삭제됨으로 원하지 않는 정보 손실이 발생하는 문제점을 말한다.
  - 수정(갱신) 이상 : 정확하지 않거나 일부의 튜플만 갱신되어 정보가 모호해지거나 일관성이 없어져 정확한 정보 파악이 되지 않는 문제점을 말한다.

</br>

## 목적

- 데이터의 중복을 없애면서 불필요한 데이터를 최소화시킨다.
- 무결성을 지키고, 이상 현상을 방지한다.
- 테이블 구성을 논리적이고 직관적으로 할 수 있다.
- 데이터베이스 구조를 확장에 용이해진다.

</br>

## 제 1정규화 (1NF)

테이블 컬럼의 도메인이 오직 **원자값**만을 포함하고, 튜플의 모든 값들은 도메인에 속하는 하나의 값을 가져야한다.

| 이름   | 전화번호                     |
| ------ | ---------------------------- |
| 홍길동 | 010-1234-5678, 010-7890-4567 |
| 임꺽정 | 010-1899-4789, 010-1758-1638 |

위 테이블은 전화번호를 여러개 가지고 있어 원자값이 아니다. 따라서 다음과 같이 분리해야 한다.

| 이름   | 전화번호      |
| ------ | ------------- |
| 홍길동 | 010-1234-5678 |
| 홍길동 | 010-7890-4567 |
| 임꺽정 | 010-1899-4789 |
| 임꺽정 | 010-1758-1638 |

</br>

## 제 2정규화 (2NF)

테이블의 모든 컬럼이 완전 함수적 종속을 만족해야 한다.  
완전 함수적 종속이란 기본키(A, B) -> C 일 때 A나 B 만으로 C가 결정되어지면 안되는 것을 의미한다.

</br>

## 제 3정규화 (3NF)

2정규화가 진행된 테이블에서 이행적 종속을 없애야 한다.  
이행정 종속이란 X(기본키) -> Y 이고 Y -> Z에서 X -> Z가 성립되는 것을 말한다.

</br>

## BCNF

여러 후보 키가 존재하는 테이블에 해당하는 정규화이다.  
모든 결정자가 후보키 집합에 속해야 한다. 즉, (A, B) -> C, D, E 일 때 C -> B 인 경우 테이블을 분리 해야 한다.  
후보키가 여러개인 테이블의 3NF를 보완하기 위해 나왔다.

</br>

## 장점

1. DB 변경 시 위에서 언급했던 각종 이상 현상들이 발생하는 문제점을 해결할 수 있다.
2. 정규화된 DB 구조에서는 새로운 데이터 형의 추가로 인한 확장 시, 그 구조를 변경하지 않아도 되거나 일부만 변경해도 된다. 이는 DB와 연동된 응용 프로그램에 최소한의 영향만을 미치게 되며 응용프로그램의 생명을 연장시킨다.
3. 정규화된 테이블들과 정규화된 테이블들간의 관계들은 현실 세계에서의 개념들과 그들간의 관계들을 반영한다.

</br>

## 단점

테이블들을 여러개로 분리 하였기 때문에 연산이 많아져 응답 시간의 느려질 수 있다.
